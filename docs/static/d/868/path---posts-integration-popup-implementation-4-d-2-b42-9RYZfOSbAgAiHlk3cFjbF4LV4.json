{"data":{"site":{"siteMetadata":{"title":"Blog by Valerii Maltsev","subtitle":"\n      all(identity, [Write JavaScript, share knowladge, develop web applications])\n    ","copyright":"","author":{"name":"Valerii Maltsev","twitter":"valeriimaltsev"},"disqusShortname":"","url":"https://proginmind.io"}},"markdownRemark":{"id":"98ac5c71-b308-561e-8b60-db2cc23710bd","html":"<h2>Task</h2>\n<p>For me, this kind of window popup was useful for integration google\ncalendar with our application, so that a user can connect its google calendar\nand manage events (e.g. meetings) through our application.</p>\n<h2>User steps</h2>\n<ul>\n<li>click on “Connect Google Calendar” button</li>\n<li>window popup opens with link to google oauth flow</li>\n<li>user sign in google account</li>\n<li>user allow connection project to its google account</li>\n<li>google oauth flow redirects user to provided earlier url that points to api url</li>\n<li>api read code and state params and redirects back to web app redurect link</li>\n<li>web app close popup and notify user about successful or failed result</li>\n</ul>\n<h2>Solution</h2>\n<p>Firstly lets bring high level overview of steps that should be implemented</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// this is inside async function</span>\n<span class=\"token keyword\">const</span> popup <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'newpopup'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'width=100,height=100,top=100,right=100'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> url <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">getGoogleUrl</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\npopup<span class=\"token punctuation\">.</span>window<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>href <span class=\"token operator\">=</span> url<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// google async oauth flow</span>\n<span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">googleOAuthFlow</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// check result</span></code></pre></div>","fields":{"tagSlugs":["/tags/javascript/","/tags/web-development/"]},"frontmatter":{"title":"Window Popup Implementation","tags":["Javascript","Web Development"],"date":"2019-01-03T16:51:00.000Z","description":"How to implement login popup or connect google service popup"}}},"pageContext":{"slug":"/posts/integration-popup-implementation/"}}